\section{Introduction}
\label{sec:intro_introduction_step}


The importance of horse gait analysis for health and performance assessment has been proliferating since the introduction of horse motion picture in the late nineteenth century \cite{eadweardmuybridge_1899_animals}. Since then, researchers and biomechanical experts have defined various indicators for gait analysis and locomotion pattern comparison between horses. Temporal stride parameters are important indicators used for analyzing the gait and evaluating the quality of locomotion for horses \cite{hobbs_2020_a}. The stride of a horse can be defined as a repeated hoof placement pattern during locomotion \cite{leach_1984_standardised}. As previously presented in Table \ref{tab:gait}, the hoof placement pattern is different between gait types, which makes the temporal stride parameters only comparable and meaningful for study within a gait type, e.g., walk, trot, and canter as natural gaits, and passage and piaffe as artificial gaits (i.e., horses learn to perform \cite{clayton_2019_a}). 

Temporal stride parameters have been used as essential measures in different studies. For instance, in the training of sport horses, the changes in stride, stance, and swing duration in long-term might indicate the horse fitness and performance level \cite{parkes_2019_the}, while in the short-term, the changes of stride frequency, stride length, and speed might represent high internal workload and fatigue \cite{wickler_2006_stride}. The definition of the mentioned stride-related parameters can be found in Table \ref{tab:stride_related_parameters}. Also as a practical example and according to dressage rules published by \gls{fei}, judges award scores during performance considering the temporal stride parameters values during competitions \cite{fdrationequestreinternationale_dressage}.

\input{../tables/strides_related_parameters.tex}
\vspace{-1cm}
The accuracy of calculating the temporal stride parameters depends on identifying the exact moments of gait events, which are hoof-on (defined as the first moment when the hoof impacts the ground) and hoof-off (defined as the first moment when the hoof no longer touches the ground or lifts off from the ground). 

In the literature, various approaches were introduced for estimating the hoof-on and hoof-off moments. One of the approaches is using a force plate, which is the gold standard for identifying the moments for horse and human (heel strike/toe-off) studies \cite{tijssen_2020_automatic,zahradka_2020_an}. When the hoof impacts the force plate, the device outputs reaction force vectors/values. By defining a force value threshold, the appearance and disappearance of generated force vectors are measured, and subsequently, the hoof-on and hoof-off moments can be determined. In addition to the force plate, several studies estimated the moments by a kinematics approach using \gls{omc} \cite{boye_2014_accuracy,roepstorff_2021_reliable, starke_2015_a}. However, the usage of force plates and \gls{omc} is limited to the laboratory environment. It is almost impossible to use them on the field during training or competition, where a large number of highly valuable data can be collected.

 
In contrast to force plate and \gls{omc}, \gls{imu}s can be used as a portable device. This device outputs three-dimensional acceleration and angular velocity signals. Several studies used the spikes in the output signals of hoof-mounted \gls{imu}s as a reference for hoof-on and hoof-off moments estimation \cite{tijssen_2020_automatic, barstow_2018_does, hernlund_2013_hoof, chateau_2009_effects, holdendouilly_2013_equine, ratzlaff_2005_relationships, alsaaod_2017_the, witte_2004_determination, starke_2012_accuracy, adsd1}. 

There are several studies on horse hoof-on and hoof-off moments estimation using body-mounted \gls{imu}. Ryan et al. \cite{ryan_2006_a} calculated the resultant acceleration magnitude (Euclidean norm) from a three-dimensional accelerometer glued to the dorsal hoof wall and detected the hoof impact and break-over according to the peaks of the diagram. Chateau et al. \cite{chateau_2009_effects,chateau_2010_biomechanical} considered the acceleration on the vertical axis from an accelerometer mounted on the lateral wall of the right front hoof as the main component and identified the hoof-on moment using the peak deceleration of the diagram and Euclidean norm of accelerations. Tijssen et al. \cite{tijssen_2020_automatic} calculated the variance of Euclidean norm of acceleration and gyroscope signals extracted from front and hind hoof-mounted \gls{imu}s and then identified the moments considering the peaks of the resulted signals. 

Besides sensor mounting on the hoof, Starke et al. \cite{starke_2012_accuracy} attached an \gls{imu} on the pelvis for hoof-on and hoof-off moments determination during walk and trot. According to this chapter, the hoof-on timing was estimated using the events extracted from pelvis vertical velocity and roll angle signals. The displacement and acceleration signals patterns extracted from \gls{imu} mounted on limb and sacrum were also studied for front/hind hoof-on and hoof-off during walk and trot \cite{olsen_2012_accuracy}. Bragan√ßa et al. \cite{adsd1} proposed an algorithm to detect the events (specific peaks and troughs) of accelerometer and gyroscope signals from a limb-mounted \gls{imu} to estimate the front and hind hoof moments during walk and trot. In one of the latest \gls{imu} studies, Sapone et al. \cite{sapone_2020_comparison} detected the front hoof-on and -off moments during trot by selecting the specific events from a discrete wavelet analysis on the gyroscope mediolateral and acceleration vertical axis of a limb-mounted \gls{imu}. 

All the mentioned studies were focused on detecting the signal peaks, troughs, and zero-crossings and then defining the hoof-on and hoof-off moments. However, these methods are highly dependent on the signal patterns, and the signal patterns can vary relative to the gait types \cite{tijssen_2020_automatic, boye_2014_accuracy,ratzlaff_2005_relationships,sapone_2020_comparison}. In addition, mounting an \gls{imu} on the hoof is prone to damage during exercise or competition. Moreover, it is a time-consuming and difficult process, and the \gls{imu} can easily fall off during locomotion. 

On the other hand, attaching \gls{imu} to the limb using elastic straps or mounting it on the upper body using double-sided adhesive tapes is not as challenging as attaching it to the hoof. However, the \gls{imu} on the limb or upper body is farther from the hoof-on and hoof-off occurrence locations than the hoof \gls{imu}, generating more complicated signal patterns compared to the clear spikes in the signals generated by hoof \gls{imu}. In addition, the patterns of \gls{imu} signals, including the moments of hoof-on and hoof-off, vary between different gaits. As a consequence, the complexity of signal patterns affects the accurate estimation of hoof-on and hoof-off moments and therefore, the accuracy of calculating temporal stride parameters.

This chapter aims to estimate the hoof-on and hoof-off moments accurately during different gait types by using the signals generated from a single \gls{imu} mounted on limbs or upper body. The consideration of a single \gls{imu} for this chapter was based on the use of the least number of devices on the body to enhance affordability, efficiency, and optimization. This goal can be approached in three steps,

\begin{itemize}
    \item The first step is to detect the hoof-on and hoof-off moments in hoof-mounted \gls{imu} signals. In this chapter, this process was called "labeling".
    \item The next step is to develop models using the output signals of a limb- or an upper body-mounted \gls{imu} to estimate the labeled hoof-on and hoof-off moments during different gaits. 
\item Finally, evaluating and optimizing the performance of the models based on the placement of \gls{imu} and comparing the outcome to state-of-the-art methods.


\end{itemize}

This chapter approached the task of hoof-on and hoof-off moments estimation and signal patterns recognition by a machine learning algorithm, which is required for evaluating equine gait patterns \cite{mouloodi_2021_what}. Furthermore, in addition to the limb-mounted \gls{imu}s, we used upper body (sacrum and withers) mounted \gls{imu}s to estimate the hoof events. Finally, the mentioned studies focused only on walk and trot, while we trained models to estimate hoof-on and hoof-off moments during walk, trot, canter, passage, and piaffe.